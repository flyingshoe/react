"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[793],{1793:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var a=n(1413),i=n(2982),r=n(885),s=n(2791),l=n(8026),c=n(7022),d=n(3360),o=n(184);function u(){var e=(0,s.useState)([{infected:57784,lastUpdatedAtApify:"2020-10-01T14:45:00.000Z"},{infected:57794,lastUpdatedAtApify:"2020-10-02T14:40:00.000Z"}]),t=(0,r.Z)(e,2),n=t[0],u=t[1],h=(0,s.useState)(!0),f=(0,r.Z)(h,2),p=f[0],y=f[1],x=(0,s.useState)("infected"),v=(0,r.Z)(x,2),m=v[0],g=v[1];(0,s.useEffect)((function(){j(n),fetch("https://api.apify.com/v2/datasets/suHgi59tSfu02VsRO/items?format=json&clean=1&fields=infected,lastUpdatedAtApify").then((function(e){return e.json()})).then((function(e){u(e),j(e),y(!1)}))}),[]);var j=function(e){var t=(0,i.Z)(e),n=0;t=(t=t.map((function(e,i){var r=new Date(e.lastUpdatedAtApify.replace(/Z$/,"")),s=r.toLocaleString("en",{day:"2-digit"}),l=r.toLocaleString("en",{month:"2-digit"}),c=r.toLocaleString("en",{month:"short"}),d=r.toLocaleString("en",{year:"numeric"}),o=i>0?e.infected-t[i-1].infected:0;return o<1?o=n:n=o,(0,a.Z)((0,a.Z)({},e),{},{day:s,month:l,monthStr:c,year:d,dayMonth:"".concat(s,"-").concat(c),dayNum:parseInt(r.toLocaleString("en",{day:"numeric"})),monthNum:parseInt(r.toLocaleString("en",{month:"numeric"})),newCases:o})}))).filter((function(e){return(e.dayNum<17||e.dayNum>29||5!==e.monthNum)&&e.newCases<=1e4}));var r=[];t=t.filter((function(e){return r.includes(e.dayMonth)||null==e.infected?null:(r.push(e.dayMonth),e)})),u(t)},b=(0,o.jsxs)(l.vz,{data:n,children:[(0,o.jsx)(l.$Q,{dataKey:m,stroke:"var(--bs-teal)",fill:"var(--bs-teal)"}),(0,o.jsx)(l.Kc,{stroke:"var(--bs-gray-dark)",dataKey:"dayMonth"}),(0,o.jsx)(l.B2,{stroke:"var(--bs-gray-dark)"}),(0,o.jsx)(l.u,{cursor:!0})]});return(0,o.jsxs)(c.Z,{children:[(0,o.jsx)("div",{style:{height:"200px",width:"200px",border:"6px solid var(--bs-teal)",borderRadius:"50%",margin:"50px auto",userSelect:"none"},children:(0,o.jsxs)("div",{style:{textAlign:"center",transform:"translateY(5%)",fontWeight:"bold",color:"var(--bs-teal)"},children:[(0,o.jsx)("div",{style:{fontSize:"80px"},children:n[n.length-1].newCases}),(0,o.jsx)("div",{style:{fontSize:"20px"},children:"NEW CASES"})]})}),p&&(0,o.jsxs)("h1",{style:{textAlign:"center"},children:[(0,o.jsx)("div",{className:"loader",style:{display:"inline-block",verticalAlign:"middle",height:"calc(1.375rem + 1.5vw)",width:"calc(1.375rem + 1.5vw)",borderColor:"var(--bs-teal)",borderWidth:"4px"}}),(0,o.jsxs)("span",{style:{verticalAlign:"middle",color:"var(--bs-teal)"},children:[" ","Loading Latest Data"," "]})]}),(0,o.jsxs)("h3",{style:{textAlign:"center",color:"var(--bs-info)",marginTop:"25px"},children:["Last Updated: ",n[n.length-1].day," ",n[n.length-1].monthStr," ",n[n.length-1].year]}),!p&&(0,o.jsxs)("div",{style:{margin:"60px 0"},children:[(0,o.jsx)("div",{style:{color:"var(--bs-teal)",textAlign:"center",fontSize:"40px"},children:"infected"===m?"Total Cases":"New Daily Cases"}),(0,o.jsx)(l.h2,{width:"100%",aspect:2.5,children:b}),(0,o.jsx)("div",{style:{marginTop:"25px"}}),(0,o.jsx)(d.Z,{active:"infected"===m,variant:"outline-info",onClick:function(e){g("infected"),e.currentTarget.blur(),u((0,i.Z)(n))},children:"Total Cases"}),(0,o.jsx)(d.Z,{active:"infected"!==m,variant:"outline-info",onClick:function(e){g("newCases"),e.currentTarget.blur(),u((0,i.Z)(n))},children:"New Daily Cases"})]})]})}}}]);
//# sourceMappingURL=793.22504750.chunk.js.map